# SonarCloud Configuration for EasyAuth Framework
sonar.projectKey=dbbuilder_easyauth
sonar.organization=dbbuilder
sonar.projectName=EasyAuth Framework
sonar.projectVersion=1.0.0

# Source code configuration
sonar.sources=src,packages/easyauth-js-sdk/src
sonar.tests=tests,packages/easyauth-js-sdk/tests
sonar.sourceEncoding=UTF-8

# Language configuration
sonar.cs.analyzer.projectOutPaths=src/**/bin/**/*.dll,tests/**/bin/**/*.dll
sonar.cs.opencover.reportsPaths=**/coverage.opencover.xml
sonar.cs.vstest.reportsPaths=**/*.trx

# JavaScript/TypeScript configuration
sonar.javascript.lcov.reportPaths=packages/easyauth-js-sdk/coverage/lcov.info
sonar.typescript.lcov.reportPaths=packages/easyauth-js-sdk/coverage/lcov.info
sonar.testExecutionReportPaths=packages/easyauth-js-sdk/coverage/test-reporter.xml

# Coverage exclusions
sonar.coverage.exclusions=**/Program.cs,**/*Tests*.cs,**/Migrations/**,**/bin/**,**/obj/**,**/node_modules/**,**/dist/**,**/coverage/**,**/*.test.ts,**/*.test.js,**/*.spec.ts,**/*.spec.js

# Duplication exclusions
sonar.cpd.exclusions=**/Models/**,**/Configuration/**

# Test file patterns
sonar.test.inclusions=**/*Tests.cs,**/*Test.cs,**/*.test.ts,**/*.test.js,**/*.spec.ts,**/*.spec.js

# Security hotspot exclusions (if needed)
sonar.security.hotspots.inheritFromParent=true

# Quality gate
sonar.qualitygate.wait=true

# Additional analysis parameters
sonar.cs.dotcover.reportsPaths=dotCover.html
sonar.cs.nunit.reportsPaths=**/TestResult.xml

# Exclude generated files and third-party code
sonar.exclusions=**/bin/**,**/obj/**,**/packages/**,**/*.designer.cs,**/AssemblyInfo.cs,**/GlobalSuppressions.cs,**/*.generated.cs,**/wwwroot/**,**/*.min.js,**/*.min.css,**/node_modules/**,**/dist/**,**/coverage/**,**/*.d.ts,**/rollup.config.js,**/jest.config.js,**/tsconfig.json

# Branch analysis configuration
sonar.branch.longLivedBranches.regex=(master|main|develop)

# Pull request decoration
sonar.pullrequest.provider=github
sonar.pullrequest.github.repository=dbbuilder/easyauth

# Authentication framework specific security rules - .NET
sonar.rule.csharpsquid:S5122.activation=true  # HTTPS enforcement
sonar.rule.csharpsquid:S4507.activation=true  # SSL/TLS configuration  
sonar.rule.csharpsquid:S5527.activation=true  # Weak cryptography
sonar.rule.csharpsquid:S2068.activation=true  # Hardcoded credentials
sonar.rule.csharpsquid:S5876.activation=true  # Session fixation
sonar.rule.csharpsquid:S4790.activation=true  # Cryptographic hash validation
sonar.rule.csharpsquid:S5659.activation=true  # JWT signature verification

# Authentication framework specific security rules - JavaScript/TypeScript
sonar.rule.typescript:S5122.activation=true   # HTTPS enforcement
sonar.rule.typescript:S4426.activation=true   # Weak cryptography
sonar.rule.typescript:S2068.activation=true   # Hardcoded credentials
sonar.rule.typescript:S5527.activation=true   # Weak random number generation
sonar.rule.typescript:S6265.activation=true   # JWT signature verification
sonar.rule.typescript:S5247.activation=true   # Cross-site scripting
sonar.rule.typescript:S5693.activation=true   # DOM XSS vulnerabilities
sonar.rule.javascript:S5122.activation=true   # HTTPS enforcement
sonar.rule.javascript:S4426.activation=true   # Weak cryptography
sonar.rule.javascript:S2068.activation=true   # Hardcoded credentials

# Issue exclusions for acceptable patterns
sonar.issue.ignore.multicriteria=e1,e2,e3,e4,e5
sonar.issue.ignore.multicriteria.e1.ruleKey=csharpsquid:S1118
sonar.issue.ignore.multicriteria.e1.resourceKey=**/Program.cs
sonar.issue.ignore.multicriteria.e2.ruleKey=csharpsquid:S3881
sonar.issue.ignore.multicriteria.e2.resourceKey=**/*Extensions.cs
sonar.issue.ignore.multicriteria.e3.ruleKey=csharpsquid:S2292
sonar.issue.ignore.multicriteria.e3.resourceKey=**/*Tests.cs
sonar.issue.ignore.multicriteria.e4.ruleKey=csharpsquid:S4144
sonar.issue.ignore.multicriteria.e4.resourceKey=**/*Provider.cs
sonar.issue.ignore.multicriteria.e5.ruleKey=csharpsquid:S1075
sonar.issue.ignore.multicriteria.e5.resourceKey=**/*Tests.cs