<?xml version="1.0" encoding="utf-8"?>
<configuration>
  
  <!-- Package Sources -->
  <packageSources>
    <clear />
    <add key="nuget.org" value="https://api.nuget.org/v3/index.json" protocolVersion="3" />
  </packageSources>

  <!-- Source Mapping for improved security -->
  <packageSourceMapping>
    <packageSource key="nuget.org">
      <package pattern="*" />
    </packageSource>
  </packageSourceMapping>

  <!-- Package Management Configuration -->
  <config>
    <!-- Disable package signature validation completely for development -->
    <add key="signatureValidationMode" value="accept" />
    
    <!-- Use lock file for reproducible builds -->
    <add key="restorePackagesWithLockFile" value="false" />
    <add key="restoreLockedMode" value="false" />
    
    <!-- Global packages folder -->
    <add key="globalPackagesFolder" value="packages" />
    
    <!-- Automatically check for package updates (disable in CI) -->
    <add key="autoReferencePolicy" value="Lowest" />
  </config>

  <!-- Trusted Signers disabled for development to avoid WSL compatibility issues -->
  <!--
  <trustedSigners>
    <author name="Microsoft">
      <certificate fingerprint="3F9001EA83C560D712C24CF213C3D312CB3BFF51EE89435D3430BD06B5D0EECE" 
                   hashAlgorithm="SHA256" 
                   allowUntrustedRoot="false" />
    </author>
    <repository name="nuget.org" serviceIndex="https://api.nuget.org/v3/index.json">
      <certificate fingerprint="0E5F38F57DC1BCC806D8494F4F90FBCEDD988B46760709CBEEC6F4219AA6157D"
                   hashAlgorithm="SHA256"
                   allowUntrustedRoot="false" />
    </repository>
  </trustedSigners>
  -->

  <!-- Disabled Sources (for reference) -->
  <disabledPackageSources>
    <!-- Example: Disable MyGet -->
    <!-- <add key="myget.org" value="true" /> -->
  </disabledPackageSources>

  <!-- Package Source Credentials (use environment variables or secrets) -->
  <packageSourceCredentials>
    <!-- Example for private feeds -->
    <!--
    <MyPrivateFeed>
      <add key="Username" value="%NUGET_PRIVATE_FEED_USER%" />
      <add key="Password" value="%NUGET_PRIVATE_FEED_TOKEN%" />
    </MyPrivateFeed>
    -->
  </packageSourceCredentials>

  <!-- Fallback Folders -->
  <fallbackPackageFolders>
    <!-- Removed Windows-specific path for WSL compatibility -->
  </fallbackPackageFolders>

  <!-- Active Package Source -->
  <activePackageSource>
    <add key="All" value="(Aggregate source)" />
  </activePackageSource>

</configuration>